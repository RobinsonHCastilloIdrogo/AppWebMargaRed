<div class="dashboard-container">
  <app-shared-dashboard></app-shared-dashboard>

  <div class="dashboard-content">
    <!-- Gráfico de Recursos -->
    <div class="card chart-card large-chart">
      <div class="title-selector-container">
        <h2>Gráfico de Recursos</h2>
        <select class="resource-selector" [(ngModel)]="selectedResource" (change)="onResourceChange()">
          <option *ngFor="let resource of resources" [value]="resource">{{ resource }}</option>
        </select>
      </div>
      <div class="chart-container">
        <canvas id="myPieChart" width="100" height="100"></canvas>
      </div>
    </div>
<<<<<<< HEAD

    <!-- Proyectos en Curso -->
=======
    
>>>>>>> Estefano
    <div class="card project-card">
      <h3>Proyectos</h3>
      <div class="project-info">
        <img
          src="assets/project-icon.png"
          alt="Project Icon"
          class="project-icon"
        />
        <p class="project-count">{{ projectsCount }}</p>
      </div>
      <p class="project-description">Cantidad total de proyectos en curso.</p>
    </div>
<<<<<<< HEAD

    <!-- Proyectos En Procesos -->
=======
>>>>>>> Estefano
    <div class="card project-card">
      <h3>Proyectos en Curso</h3>
      <div class="project-info">
        <img
          src="assets/project-icon.png"
          alt="Project Icon"
          class="project-icon"
        />
        <p class="project-count">{{ projectsCount }}</p>
      </div>
      <p class="project-description">
        Cantidad total de proyectos finalizados.
      </p>
    </div>
<<<<<<< HEAD

    <!-- Proyectos Finalizados (Nueva tarjeta) -->
    <div class="card project-card">
      <h3>Proyectos Finalizados</h3>
      <div class="project-info">
        <img
          src="assets/project-icon.png"
          alt="Project Icon"
          class="project-icon"
        />
        <p class="project-count">{{ projectsCount }}</p>
      </div>
      <p class="project-description">Cantidad total de proyectos pendientes.</p>
    </div>

    <!-- Reporte de Eventos / Proyectos -->
    <div class="card summary-card">
      <div class="header-dropdown">
        <h3 class="header-title">
          Reporte de {{ isEventSelected ? "Eventos" : "Proyectos" }}
        </h3>
        <select
          [(ngModel)]="isEventSelected"
          (ngModelChange)="selectView($event)"
          class="dropdown-select"
        >
          <option [ngValue]="true">Eventos</option>
          <option [ngValue]="false">Proyectos</option>
        </select>
      </div>

      <!-- Contenedor de la tabla -->
=======
    <div class="card summary-card">
      <h3>Reporte de Eventos</h3>
>>>>>>> Estefano
      <div class="table-container">
        <table class="event-table modern-table">
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Fecha</th>
              <th>Hora de Inicio</th>
              <th>Hora de Fin</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of displayedItems">
              <td>{{ item.nombreEvento || item.nombreProyecto }}</td>
              <td>{{ item.date | date : "MM/dd/yy" }}</td>
              <td>{{ item.horaInicio }}</td>
              <td>{{ item.horaFin }}</td>
              <td>
                <div class="action-buttons">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    (click)="viewItem(item.id)"
                    width="20"
                    height="20"
                    fill="none"
                    stroke="gray"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    style="cursor: pointer; margin-right: 10px"
                  >
                    <path
                      d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4"
                    ></path>
                    <path d="M13.5 6.5l4 4"></path>
                  </svg>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    (click)="deleteItem(item.id)"
                    width="20"
                    height="20"
                    fill="none"
                    stroke="gray"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    style="cursor: pointer"
                  >
                    <path d="M4 7h16"></path>
                    <path
                      d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"
                    ></path>
                    <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path>
                    <path d="M10 12l4 4m0 -4l-4 4"></path>
                  </svg>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
<<<<<<< HEAD

      <p *ngIf="displayedItems.length === 0" class="no-items">
        No hay {{ isEventSelected ? "eventos" : "proyectos" }} disponibles.
      </p>
    </div>

    <!-- Gráfico de Líneas -->
=======
      <p *ngIf="events.length === 0" class="no-events">
        No hay eventos disponibles.
      </p>
    </div>
>>>>>>> Estefano
    <div class="card full-width-card">
      <h3>Gráfico de líneas</h3>
      <div class="chart-container-line">
        <canvas id="myLineChart"></canvas>
      </div>
    </div>
  </div>

<<<<<<< HEAD
  <!-- Modal de Confirmación de Cierre de Sesión -->
=======
>>>>>>> Estefano
  <div *ngIf="showLogoutModal" class="modal-overlay">
    <div class="modal-content">
      <h2>Confirmar Cierre de Sesión</h2>
      <p>¿Estás seguro de que quieres cerrar sesión?</p>
      <div class="button-group">
        <button class="btn btn-secondary" (click)="closeLogoutModal()">
          Cancelar
        </button>
        <button class="btn btn-danger" (click)="logout()">Cerrar sesión</button>
      </div>
    </div>
  </div>
</div>
