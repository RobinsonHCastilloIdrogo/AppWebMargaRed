<div class="dashboard-container">
  <div class="sidebar">
    <app-shared-dashboard></app-shared-dashboard>
  </div>

  <div class="dashboard-content">
    <header class="header-container">
      <h2 class="h2-list">Proyectos Actuales</h2>
    </header>

    <div class="actions-container">
      <button class="btn" (click)="toggleProjectModal()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          width="20"
          height="20"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M12 5v14"></path>
          <path d="M5 12h14"></path>
        </svg>
        Agregar Proyecto
      </button>

      <button class="btn" (click)="toggleTableModal()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          width="20"
          height="20"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M6 9l6 6 6-6"></path>
        </svg>
        Acciones
      </button>
    </div>

    <div class="cards-container">
      <div
        class="project-card"
        *ngFor="let project of projects"
        (click)="toggleTableModal()"
      >
        <h3 class="project-title">{{ project.name }}</h3>
      </div>

      <div *ngIf="!projects.length" class="no-projects-message">
        No se encontraron proyectos.
      </div>
    </div>

    <!-- Modal para agregar proyecto -->
    <app-project-modal
      *ngIf="isProjectModalOpen"
      (closeModal)="toggleProjectModal()"
      (projectAdded)="handleProjectAdded()"
    ></app-project-modal>

    <app-project-modal-table
      *ngIf="isModalOpen"
      [projects]="projects"
      (closeModal)="toggleTableModal()"
      (projectUpdated)="loadProjects()"
    ></app-project-modal-table>
  </div>
</div>
